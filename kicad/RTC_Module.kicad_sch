(kicad_sch
  (version 20231120)
  (generator "eeschema")
  (generator_version "8.0")
  (uuid "rtc-module-main-uuid-001")
  (paper "A4")
  (title_block
    (title "RTC Module - Circadian Clock")
    (date "2026-01-02")
    (rev "1.0")
    (comment 1 "DS3231SN RTC with I2C Interface")
    (comment 2 "For ESP32-WROOM-32E")
    (comment 3 "LCSC Part Numbers Included")
  )

  (lib_symbols
    (symbol "DS3231SN"
      (in_bom yes)
      (on_board yes)
      (property "Reference" "U"
        (at 0 13.97 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "DS3231SN"
        (at 0 -13.97 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "footprints:SOIC-16W_7.5x10.3mm_P1.27mm"
        (at 0 -16.51 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "LCSC" "C722469"
        (at 0 -19.05 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "DS3231SN_0_1"
        (rectangle (start -8.89 12.7) (end 8.89 -12.7)
          (stroke (width 0.254) (type default))
          (fill (type background))
        )
      )
      (symbol "DS3231SN_1_1"
        (pin no_connect line (at -11.43 10.16 0) (length 2.54) (name "32KHz" (effects (font (size 1.27 1.27)))) (number "1" (effects (font (size 1.27 1.27)))))
        (pin power_in line (at 0 15.24 270) (length 2.54) (name "VCC" (effects (font (size 1.27 1.27)))) (number "2" (effects (font (size 1.27 1.27)))))
        (pin open_collector line (at 11.43 7.62 180) (length 2.54) (name "~{INT}/SQW" (effects (font (size 1.27 1.27)))) (number "3" (effects (font (size 1.27 1.27)))))
        (pin input line (at 11.43 2.54 180) (length 2.54) (name "~{RST}" (effects (font (size 1.27 1.27)))) (number "4" (effects (font (size 1.27 1.27)))))
        (pin no_connect line (at -11.43 5.08 0) (length 2.54) (name "NC" (effects (font (size 1.27 1.27)))) (number "5" (effects (font (size 1.27 1.27)))))
        (pin no_connect line (at -11.43 2.54 0) (length 2.54) (name "NC" (effects (font (size 1.27 1.27)))) (number "6" (effects (font (size 1.27 1.27)))))
        (pin no_connect line (at -11.43 0 0) (length 2.54) (name "NC" (effects (font (size 1.27 1.27)))) (number "7" (effects (font (size 1.27 1.27)))))
        (pin no_connect line (at -11.43 -2.54 0) (length 2.54) (name "NC" (effects (font (size 1.27 1.27)))) (number "8" (effects (font (size 1.27 1.27)))))
        (pin no_connect line (at -11.43 -5.08 0) (length 2.54) (name "NC" (effects (font (size 1.27 1.27)))) (number "9" (effects (font (size 1.27 1.27)))))
        (pin no_connect line (at -11.43 -7.62 0) (length 2.54) (name "NC" (effects (font (size 1.27 1.27)))) (number "10" (effects (font (size 1.27 1.27)))))
        (pin no_connect line (at -11.43 -10.16 0) (length 2.54) (name "NC" (effects (font (size 1.27 1.27)))) (number "11" (effects (font (size 1.27 1.27)))))
        (pin no_connect line (at 11.43 -10.16 180) (length 2.54) (name "NC" (effects (font (size 1.27 1.27)))) (number "12" (effects (font (size 1.27 1.27)))))
        (pin power_in line (at 0 -15.24 90) (length 2.54) (name "GND" (effects (font (size 1.27 1.27)))) (number "13" (effects (font (size 1.27 1.27)))))
        (pin power_in line (at -2.54 15.24 270) (length 2.54) (name "VBAT" (effects (font (size 1.27 1.27)))) (number "14" (effects (font (size 1.27 1.27)))))
        (pin bidirectional line (at 11.43 -2.54 180) (length 2.54) (name "SDA" (effects (font (size 1.27 1.27)))) (number "15" (effects (font (size 1.27 1.27)))))
        (pin input line (at 11.43 -5.08 180) (length 2.54) (name "SCL" (effects (font (size 1.27 1.27)))) (number "16" (effects (font (size 1.27 1.27)))))
      )
    )
    (symbol "R_Small"
      (pin_numbers hide)
      (pin_names (offset 0.254) hide)
      (in_bom yes)
      (on_board yes)
      (property "Reference" "R"
        (at 0.762 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "R_Small"
        (at -0.762 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" ""
        (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "R_Small_0_1"
        (rectangle (start -0.635 1.778) (end 0.635 -1.778)
          (stroke (width 0.1524) (type default))
          (fill (type none))
        )
      )
      (symbol "R_Small_1_1"
        (pin passive line (at 0 2.54 270) (length 0.762) (name "~" (effects (font (size 1.27 1.27)))) (number "1" (effects (font (size 1.27 1.27)))))
        (pin passive line (at 0 -2.54 90) (length 0.762) (name "~" (effects (font (size 1.27 1.27)))) (number "2" (effects (font (size 1.27 1.27)))))
      )
    )
    (symbol "C_Small"
      (pin_numbers hide)
      (pin_names (offset 0.254) hide)
      (in_bom yes)
      (on_board yes)
      (property "Reference" "C"
        (at 0.254 1.778 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "C_Small"
        (at 0.254 -2.032 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" ""
        (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "C_Small_0_1"
        (polyline (pts (xy -1.524 0.508) (xy 1.524 0.508))
          (stroke (width 0.3302) (type default))
          (fill (type none))
        )
        (polyline (pts (xy -1.524 -0.508) (xy 1.524 -0.508))
          (stroke (width 0.3048) (type default))
          (fill (type none))
        )
      )
      (symbol "C_Small_1_1"
        (pin passive line (at 0 2.54 270) (length 2.032) (name "~" (effects (font (size 1.27 1.27)))) (number "1" (effects (font (size 1.27 1.27)))))
        (pin passive line (at 0 -2.54 90) (length 2.032) (name "~" (effects (font (size 1.27 1.27)))) (number "2" (effects (font (size 1.27 1.27)))))
      )
    )
    (symbol "Battery_Cell"
      (pin_names (offset 0) hide)
      (in_bom yes)
      (on_board yes)
      (property "Reference" "BT"
        (at 2.54 1.27 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "Battery_Cell"
        (at 2.54 -1.27 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (symbol "Battery_Cell_0_1"
        (polyline (pts (xy -1.27 0.508) (xy 1.27 0.508))
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline (pts (xy -0.635 -0.508) (xy 0.635 -0.508))
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline (pts (xy 0 0.508) (xy 0 1.778))
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline (pts (xy 0 -2.032) (xy 0 -0.508))
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "Battery_Cell_1_1"
        (pin passive line (at 0 2.54 270) (length 0.762) (name "+" (effects (font (size 1.27 1.27)))) (number "1" (effects (font (size 1.27 1.27)))))
        (pin passive line (at 0 -2.54 90) (length 0.508) (name "-" (effects (font (size 1.27 1.27)))) (number "2" (effects (font (size 1.27 1.27)))))
      )
    )
  )

  (text "RTC Module - DS3231SN\n\nI2C Interface:\n- SDA: GPIO 21 (ESP32 Dev) / GPIO 16 (Matrix Portal S3)\n- SCL: GPIO 22 (ESP32 Dev) / GPIO 17 (Matrix Portal S3)\n\nPower: 3.3V from LDO\nBackup: CR2032 battery (optional)"
    (at 25.4 177.8 0)
    (effects (font (size 2.54 2.54)) (justify left))
  )

  (text "JLCPCB/LCSC Part Numbers:\n\nU1: DS3231SN - C722469\nR1: 4.7kΩ 0402 - C25900\nR2: 4.7kΩ 0402 - C25900\nC1: 100nF 0402 - C307331\nBT1: CR2032 Holder - C70377"
    (at 152.4 177.8 0)
    (effects (font (size 2.54 2.54)) (justify left))
  )

  (symbol
    (lib_id "DS3231SN")
    (at 101.6 101.6 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (uuid "u1-ds3231-uuid")
    (property "Reference" "U1"
      (at 101.6 85 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "DS3231SN"
      (at 101.6 118 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "footprints:SOIC-16W_7.5x10.3mm_P1.27mm"
      (at 101.6 120 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "LCSC" "C722469"
      (at 101.6 122 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  (symbol
    (lib_id "R_Small")
    (at 127 78.74 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (uuid "r1-pullup-sda-uuid")
    (property "Reference" "R1"
      (at 129.54 78.74 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "4.7k"
      (at 129.54 81.28 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Resistor_SMD:R_0402_1005Metric"
      (at 127 78.74 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "LCSC" "C25900"
      (at 127 78.74 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  (symbol
    (lib_id "R_Small")
    (at 137.16 78.74 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (uuid "r2-pullup-scl-uuid")
    (property "Reference" "R2"
      (at 139.7 78.74 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "4.7k"
      (at 139.7 81.28 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Resistor_SMD:R_0402_1005Metric"
      (at 137.16 78.74 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "LCSC" "C25900"
      (at 137.16 78.74 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  (symbol
    (lib_id "C_Small")
    (at 76.2 91.44 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (uuid "c1-bypass-uuid")
    (property "Reference" "C1"
      (at 78.74 88.9 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "100nF"
      (at 78.74 93.98 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Capacitor_SMD:C_0402_1005Metric"
      (at 76.2 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "LCSC" "C307331"
      (at 76.2 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  (symbol
    (lib_id "Battery_Cell")
    (at 66.04 91.44 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (uuid "bt1-cr2032-uuid")
    (property "Reference" "BT1"
      (at 68.58 88.9 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "CR2032"
      (at 68.58 93.98 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Battery:BatteryHolder_Keystone_3034_1x20mm"
      (at 66.04 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "LCSC" "C70377"
      (at 66.04 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  (wire (pts (xy 101.6 86.36) (xy 101.6 83.82))
    (stroke (width 0) (type default))
    (uuid "wire-vcc-uuid")
  )
  (wire (pts (xy 101.6 83.82) (xy 76.2 83.82))
    (stroke (width 0) (type default))
    (uuid "wire-vcc-2-uuid")
  )
  (wire (pts (xy 76.2 83.82) (xy 76.2 88.9))
    (stroke (width 0) (type default))
    (uuid "wire-c1-top-uuid")
  )
  (wire (pts (xy 76.2 93.98) (xy 76.2 116.84))
    (stroke (width 0) (type default))
    (uuid "wire-c1-bot-uuid")
  )
  (wire (pts (xy 101.6 116.84) (xy 101.6 121.92))
    (stroke (width 0) (type default))
    (uuid "wire-gnd-uuid")
  )
  (wire (pts (xy 76.2 116.84) (xy 101.6 116.84))
    (stroke (width 0) (type default))
    (uuid "wire-gnd-2-uuid")
  )

  (wire (pts (xy 99.06 86.36) (xy 99.06 83.82))
    (stroke (width 0) (type default))
    (uuid "wire-vbat-uuid")
  )
  (wire (pts (xy 99.06 83.82) (xy 66.04 83.82))
    (stroke (width 0) (type default))
    (uuid "wire-vbat-2-uuid")
  )
  (wire (pts (xy 66.04 83.82) (xy 66.04 88.9))
    (stroke (width 0) (type default))
    (uuid "wire-bt1-top-uuid")
  )
  (wire (pts (xy 66.04 93.98) (xy 66.04 116.84))
    (stroke (width 0) (type default))
    (uuid "wire-bt1-bot-uuid")
  )
  (wire (pts (xy 66.04 116.84) (xy 76.2 116.84))
    (stroke (width 0) (type default))
    (uuid "wire-gnd-3-uuid")
  )

  (wire (pts (xy 113.03 104.14) (xy 127 104.14))
    (stroke (width 0) (type default))
    (uuid "wire-sda-uuid")
  )
  (wire (pts (xy 127 104.14) (xy 127 81.28))
    (stroke (width 0) (type default))
    (uuid "wire-sda-r1-uuid")
  )
  (wire (pts (xy 127 76.2) (xy 127 71.12))
    (stroke (width 0) (type default))
    (uuid "wire-r1-vcc-uuid")
  )
  (wire (pts (xy 127 71.12) (xy 137.16 71.12))
    (stroke (width 0) (type default))
    (uuid "wire-vcc-r-uuid")
  )
  (wire (pts (xy 137.16 71.12) (xy 137.16 76.2))
    (stroke (width 0) (type default))
    (uuid "wire-r2-vcc-uuid")
  )

  (wire (pts (xy 113.03 106.68) (xy 137.16 106.68))
    (stroke (width 0) (type default))
    (uuid "wire-scl-uuid")
  )
  (wire (pts (xy 137.16 106.68) (xy 137.16 81.28))
    (stroke (width 0) (type default))
    (uuid "wire-scl-r2-uuid")
  )

  (wire (pts (xy 127 104.14) (xy 152.4 104.14))
    (stroke (width 0) (type default))
    (uuid "wire-sda-out-uuid")
  )
  (wire (pts (xy 137.16 106.68) (xy 152.4 106.68))
    (stroke (width 0) (type default))
    (uuid "wire-scl-out-uuid")
  )

  (label "SDA" (at 152.4 104.14 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "label-sda-uuid")
  )
  (label "SCL" (at 152.4 106.68 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "label-scl-uuid")
  )
  (label "+3.3V" (at 101.6 83.82 90) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "label-vcc-uuid")
  )
  (label "GND" (at 101.6 121.92 270) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "label-gnd-uuid")
  )
  (label "+3.3V" (at 132.08 71.12 90) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "label-pullup-vcc-uuid")
  )

  (hierarchical_label "SDA" (shape bidirectional) (at 154.94 104.14 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "hlabel-sda-uuid")
  )
  (hierarchical_label "SCL" (shape input) (at 154.94 106.68 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "hlabel-scl-uuid")
  )
  (hierarchical_label "+3.3V" (shape power_in) (at 101.6 81.28 90) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "hlabel-vcc-uuid")
  )
  (hierarchical_label "GND" (shape power_in) (at 101.6 124.46 270) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "hlabel-gnd-uuid")
  )
)
